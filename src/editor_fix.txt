        linha_exibida = linha_inicial;\n        \n        for (int i = inicio_linha; i < buffer_len && linhas_mostradas < 15; i++) {\n            if (i == inicio_linha || (i > 0 && buffer[i-1] == '\\n')) {\n                printf(\"\\033[2m%3d\\033[0m \\033[2mâ”‚\\033[0m \", linha_exibida);\n                // Reapply background color after escape sequences\n                printf(\"%s\", get_background_color());\n            }\n            \n            if (i == cursor) {\n                printf(\"\\033[4m \\033[0m\"); // Cursor com underline\n                // Reapply background color after escape sequences\n                printf(\"%s\", get_background_color());\n            }\n            \n            if (buffer[i] == '\\n') {\n                printf(\"\\n\");\n                linha_exibida++;\n                linhas_mostradas++;\n                // Reapply background color after new line\n                printf(\"%s\", get_background_color());\n            } else {\n                printf(\"%c\", buffer[i]);\n            }\n        }\n